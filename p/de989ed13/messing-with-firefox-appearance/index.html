<!doctype html><html lang=zh-cn><head><meta name=color-scheme content="dark"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.139.4"><meta name=description content="这里是 Celestial.y 的网络空间站。"><meta property="og:title" content="折腾 Firefox 浏览器（外观篇）"><meta property="og:description" content="这里是 Celestial.y 的网络空间站。"><meta property="og:url" content="https://blog.celestialy.top/p/de989ed13/messing-with-firefox-appearance/"><meta property="og:site_name" content="clsty 的网络空间站"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-05-15T21:49:00+08:00"><meta property="article:modified_time" content="2024-05-19T04:00:00+08:00"><meta property="article:tag" content="firefox"><meta name=twitter:card content="summary"><meta name=twitter:title content="折腾 Firefox 浏览器（外观篇）"><meta name=twitter:description content="这里是 Celestial.y 的网络空间站。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"NewsArticle","dateModified":"2024-05-19T04:00:00+08:00","datePublished":"2021-05-15T21:49:00+08:00","headline":"折腾 Firefox 浏览器（外观篇）"}</script><title>折腾 Firefox 浏览器（外观篇） | clsty 的网络空间站
</title><link rel=preload href=/IBM-Plex-Sans/fonts/split/woff2/IBMPlexSans-Bold-Latin1.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/IBM-Plex-Sans/fonts/split/woff2/IBMPlexSans-Regular-Latin1.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/IBM-Plex-Sans-Condensed/fonts/split/woff2/IBMPlexSansCondensed-Light-Latin1.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/IBM-Plex-Sans-Condensed/fonts/split/woff2/IBMPlexSansCondensed-Text-Latin1.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/IBM-Plex-Sans-Condensed/fonts/split/woff2/IBMPlexSansCondensed-SemiBold-Latin1.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/fontfaces.min.5442583bc9892da790ae4dfc5e0be3a914b9a11806fc02b0c0ed61f0456e76a1.css integrity="sha256-VEJYO8mJLaeQrk38XgvjqRS5oRgG/AKwwO1h8EVudqE=" media=screen><link rel=stylesheet href=/css/screen.min.b2bfc25fa5b5fb7d7ff2571c70968e348a33f0811b9739e6c79eaba594c86eb2.css integrity="sha256-sr/CX6W1+31/8lcccJaONIoz8IEblznmx56rpZTIbrI=" media=screen><link rel=stylesheet href=/css/custom.min.aee6477538ab4ab378a04100067edf126d56e3a31c3c58987fd57d65953d1cc9.css integrity="sha256-ruZHdTirSrN4oEEABn7fEm1W46McPFiYf9V9ZZU9HMk=" media=screen><script src=/js/ls.min.6caaaee2899d2d0bb2cd66e696389981f80744632f18ac48f14a6b0f559c46bd.js integrity="sha256-bKqu4omdLQuyzWbmljiZgfgHRGMvGKxI8UprD1WcRr0=" async></script><link rel=icon type=image/svg+xml href=/favicon/favicon.svg><link rel=icon type=image/png href=/favicon/favicon.png><link rel=stylesheet href=/css/pagestyle/post.css integrity media=screen></head><body><script>let FF_FOUC_FIX</script><header class="l-masthead l-nav" id=l-masthead><div class="ctrl ctrl-left" id=l-logo><a class="ctrl__title ctrl__title--text nav__title" href=https://blog.celestialy.top/><span>clsty 的网络空间站</span></a></div><div class="ctrl ctrl-left" id=l-menu><nav><ul class=ul--row><li><a class="ctrl__menulink nav-main__link" href=/>❀新鲜事❀</a></li><li><a class="ctrl__menulink nav-main__link has-active" href=/blog/>❈散文屋❈</a></li><li><a class="ctrl__menulink nav-main__link" href=/doc/>❉文档馆❉</a></li><li><a class="ctrl__menulink nav-main__link" href=/authors/>・人・</a></li><li><a class="ctrl__menulink nav-main__link" href=/categories/>〈  类别</a></li><li><a class="ctrl__menulink nav-main__link" href=/series/>|  系列  |</a></li><li><a class="ctrl__menulink nav-main__link" href=/tags/>标签  〉</a></li></ul></nav></div><div class="ctrl ctrl-right" id=l-ctrl><nav><ul class=ul--row></ul></nav><a href=/search/ id=search class=ctrl__button title="Open search"><span class='icon icon--material icon--normal'><svg viewBox="0 0 24 24"><path d="m19.55 20.575-6.3-6.275q-.75.625-1.725.975t-2 .35q-2.575.0-4.35-1.775Q3.4 12.075 3.4 9.5q0-2.55 1.775-4.338 1.775-1.787 4.35-1.787 2.55.0 4.325 1.775 1.775 1.775 1.775 4.35.0 1.075-.35 2.05-.35.975-.95 1.7l6.275 6.275zm-10.025-6.45q1.925.0 3.263-1.35 1.337-1.35 1.337-3.275.0-1.925-1.337-3.275-1.338-1.35-3.263-1.35-1.95.0-3.287 1.35Q4.9 7.575 4.9 9.5t1.338 3.275q1.337 1.35 3.287 1.35z"/></svg></span>
</a><button id=toggle-toc class=ctrl__button aria-label="Toggle TOC" title=开/关导航目录><span class="icon icon--material"></span></button><aside class=is-closed id=toc><div class=toc__box><div class=toc__content><nav class=toc__list><h2 class=toc__title><a href=#l-content-box class=nav__link>在此页面上</a></h2><ul><li class="nav__item nav__item--2"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e5%88%ab%e4%ba%ba%e7%9a%84%e8%ae%be%e7%bd%ae>别人的设置</a></li><li class="nav__item nav__item--2"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e5%bc%80%e5%90%af%e8%87%aa%e5%ae%9a%e4%b9%89%e5%a4%96%e8%a7%82%e7%9a%84%e6%96%b9%e6%b3%95>开启自定义外观的方法</a></li><li class="nav__item nav__item--2"><a href=/p/de989ed13/messing-with-firefox-appearance/#userchromecss><code>userChrome.css</code></a><ul><li class="nav__item nav__item--3"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e7%bb%99%e6%a0%87%e7%ad%be%e5%9b%be%e6%a0%87%e5%8a%a0%e8%83%8c%e6%99%af>给标签图标加背景</a></li><li class="nav__item nav__item--3"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e5%a7%8b%e7%bb%88%e9%9a%90%e8%97%8f%e6%98%be%e7%a4%ba%e6%9f%90%e4%ba%9b%e6%8c%89%e9%92%ae>始终隐藏／显示某些按钮</a></li><li class="nav__item nav__item--3"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e6%94%b9%e9%80%a0%e6%a0%87%e7%ad%be%e6%a0%8f%e7%9a%84%e5%b8%83%e5%b1%80>改造标签栏的布局</a></li><li class="nav__item nav__item--3"><a href=/p/de989ed13/messing-with-firefox-appearance/#%e9%9a%90%e8%97%8f%e9%97%b2%e7%bd%ae%e7%9a%84%e5%b7%a5%e5%85%b7%e6%a0%8f>隐藏闲置的工具栏</a></li></ul></li><li class="nav__item nav__item--2"><a href=/p/de989ed13/messing-with-firefox-appearance/#usercontentcss><code>userContent.css</code></a></li></ul></nav></div></div></aside></div></header><div class=l-page><main id=l-main class=l-tnp><div id=l-content-box class="l-box l-box--full"><article id=l-content data-pagefind-body><header class=page-header><div class="meta meta--head meta--left" data-pagefind-ignore><ul class=meta__list><li class="taxo-shape taxo-shape--category"><ul class=ul--row><li class=meta__hanging><a class="link link--nav" href=/categories/ title="All Categories"><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="m5.042 9.479 4.979-8.146L15 9.479zm9.666 9.167q-1.646.0-2.791-1.156-1.146-1.157-1.146-2.782.0-1.646 1.146-2.791 1.145-1.146 2.791-1.146 1.625.0 2.782 1.146 1.156 1.145 1.156 2.791.0 1.625-1.156 2.782-1.157 1.156-2.782 1.156zm-12.583-.417v-7.062h7.063v7.062z"/></svg></span></a></li><li class="meta__item meta__item--taxo"><a class="meta__text link link--nav" href=/categories/howto/>指南向</a></li></ul></li><li class="taxo-shape taxo-shape--tag"><ul class=ul--row><li class=meta__hanging><a class="link link--nav" href=/tags/ title="All Tags"><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M3.188 10.542v5.875L.917 15.5zm4.062 7.75h-2.5V11.5zm1.958.75L4.146 5.333 14 1.75l5.042 13.729zm.021-10.5q.396.0.677-.282.282-.281.282-.677.0-.375-.282-.656-.281-.281-.677-.281-.375.0-.656.281t-.281.656q0 .396.281.677.281.282.656.282z"/></svg></span></a></li><li class="meta__item meta__item--taxo"><a class="meta__text link link--nav" href=/tags/firefox/>Firefox</a></li></ul></li></ul><div class=published><ul class=author-list><li><a href=/authors/unknown/ title=佚名><figure class="fig fig--w-pt2 fig--portrait-small"><span class=img__frame style=display:flex;justify-content:center;align-items:center><span class=img__c style=position:relative;width:100%;height:0;padding-bottom:75.0871%><img alt="Unknown Author" class=img--ls height=54 loading=lazy src=data:image/webp;base64,UklGRrYCAABXRUJQVlA4IKoCAADwDwCdASpIADYAPsFInEcjoiEU2q8gOwwE9IBmD1VmIbaOOBXb+vF7gd9UZHLcKqn7d77lHf0RuwmR7P8rlDD+kfbIIzuu+tHu/5O3/qfFe0v3fUDTcgxCnGi5F+LTJP3v9Acfr7ysi4F7I03RunRCI1s2zU8gdmV9SarPhpqSc0Vg/SgX2HAgAP78AOeuoRk5wAxCt6BUuaC+3nQlrjQSrf2eT//84gw7P65XeGqJJ13qZ8b0MxbHoLVOiBJmtgMRCSLpkDBBxQVQt+/Di8tyl6E+nHFbRIJ+6TUJcBxDT+UCNYQCGp3NQxhbDad6z97bJxAB7K5K2lWa5MAJlS8Z0aluSy/1u6XIGfaBohy/r09L0xex6fTJi3GJ7RMDkKY6Qrr3QLaDVn/Pi2Mp3H3NYe0AqwuviGmDsq4Ht/HCv74en4j5huodmxNp/RYKW4dMv95olicAySyV5mjHTRWSFkhTv0979ybyb5KEERWy393l9SUWzeQVbRB7byWceYZWb/u+8Lv35bPDsoh5JjNwD/Ymz7fAW5rODYbANQiLVvpcDnu6CgFyN5LbiJK0rWP3RDCMBVzsxiE+Rx80z1QW+edYXM3/bfZhgyq6jpHwNYh/pvdzjYaz3QnccHcxAfHlFZ1+pZROQH1qps2UExvdJFSaIgNuZSbhBZ8DXajW/Yt7jXLvRWGt9Iz/TDmqMdrlQhOWIgPwLU8GX6L6RmQ2XToN+CsT0Ju3nSQ70mGIhkrZdRKAEbajbexizHfeFQreN+XniXPDCLIX03wvHEsvbXfVJcUx8Yhd+zjbcuL/ayhfskmYOl3YqJ++AUGmbvQee9ZjxUJPNdV8SmFmmvp6sFHVoqYPevGO9/Dmef5sqJXzWG4qCyl7p2MpHF6PA3dsm99UKLLfaYAA width=72></span></span></figure></a></li></ul><ul class="meta__list meta__list--date"><li class=meta__item><span class=meta__icon><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M12.021 14.938q-.896.0-1.521-.615t-.625-1.49q0-.895.625-1.521.625-.624 1.521-.624.875.0 1.489.624.615.626.615 1.521.0.875-.615 1.49-.614.615-1.489.615zM2.333 18.5V3.25h2.584V1.5h1.875v1.75h6.416V1.5h1.875v1.75h2.584V18.5zm1.979-1.979h11.376V8.375H4.312z"/></svg></span>
</span><time class=meta__text datetime=2021-05-15T21:49:00+08:00>May 15, 2021</time></li><li class="meta__item meta__date"><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M10 18.5q-1.771.0-3.323-.667-1.552-.666-2.698-1.812t-1.812-2.698Q1.5 11.771 1.5 10t.667-3.323q.666-1.552 1.812-2.698t2.698-1.812Q8.229 1.5 10 1.5t3.323.667q1.552.666 2.698 1.812t1.812 2.698Q18.5 8.229 18.5 10t-.667 3.323q-.666 1.552-1.812 2.698t-2.698 1.812Q11.771 18.5 10 18.5zm2.583-4.562 1.375-1.355-3-2.979V5.896H9.042v4.458z"/></svg></span>
<span class=meta__text>9:49 pm</span></li></ul></div></div><div class="title title--sans margin-full"><h1 data-pagefind-weight=10>折腾 Firefox 浏览器（外观篇）</h1></div><aside class=featured-image><figure class="fig fig--ph-right fig--w-small fig--featured"><span class="img__frame img__frame--box-shadow"><span class="img__c img__c--t-symbol"><img alt="Featured image" class=img--svg loading=lazy src=/p/de989ed13/messing-with-firefox-appearance/pic.featured/firefox-quantum-logo.svg></span></span></figure></aside></header><div class="md md--sans md--h-sans md--margin-full"><style>.wordcount-label{font-size:16px;text-align:right}</style><span class=wordcount-label>字词数：3860&nbsp;&nbsp;&nbsp;✧&nbsp;&nbsp;&nbsp;</span><style>.pageviews-label{font-size:16px;text-align:right}</style><span class=pageviews-label>阅读量：<span class=pageviews-label id=ArtalkPV></span>&nbsp;&nbsp;&nbsp;✧&nbsp;&nbsp;</span>
<time id=LastmodTime datetime=2024-5-19></time>
<span id=expiredTip class=expiredTip-label></span><style>.expiredTip-label{font-size:16px}</style><script>function GetNumberOfDays(e,t){var n=Date.parse(new Date(e)),s=Date.parse(new Date(t)),o=parseInt((s-n)/(1e3*60*60*24));return o}var date=new Date,ny=date.getFullYear(),nm=date.getMonth()+1,nd=date.getDate(),a1=document.getElementById("LastmodTime").dateTime,a2=ny+"-"+nm+"-"+nd,num=GetNumberOfDays(a1,a2),str1="最近更新：距今",str2="日";document.getElementById("expiredTip").innerHTML=str1+"&nbsp;"+num+"&nbsp;"+str2</script><div id=permaportalValue style=display:none>de989ed13</div><p class=box style=white-space:nowrap;font-size:1.2em;overflow-x:auto;clear:none>以下按钮可供你方便地引用本文。URL 中即使域名变化，其后的路径也将始终指向原本的内容。
<script>function copyToClipboard(e,t){var n,s,o=document.getElementById(e).innerText;navigator.clipboard.writeText(o),n=document.getElementById(t),s=n.textContent,n.textContent="✓ 已复制",setTimeout(function(){n.textContent=s},1200)}</script><br><button id=permaportal-button onclick='copyToClipboard("permaportallink","permaportal-button")' class=permaportal--button>单击复制</button>
<span id=permaportallink class=permaportal--linkbox>https://blog.celestialy.top/p/de989ed13</span><br><button id=permaportal-button-md onclick='copyToClipboard("permaportallink-md","permaportal-button-md")' class=permaportal--button>markdown</button>
<span id=permaportallink-md class=permaportal--linkbox>[折腾 Firefox 浏览器（外观篇） | clsty 的网络空间站](https://blog.celestialy.top/p/de989ed13)</span><br><button id=permaportal-button-org onclick='copyToClipboard("permaportallink-org","permaportal-button-org")' class=permaportal--button>org-mode</button>
<span id=permaportallink-org class=permaportal--linkbox>[[https://blog.celestialy.top/p/de989ed13][折腾 Firefox 浏览器（外观篇） | clsty 的网络空间站]]</span></p><blockquote class=box-info><p>本文初稿完成于 2021 年 5 月。为着本次投稿，我对全文进行了一些更新，但部分外链中的信息可能已经失去时效性，非我所能控制。敬请注意。</p><p>本文中的所有代码均已在关闭了 Proton 设计的 Firefox 126.0b2 (64-bit) 上测试。是的，2024 年了，我依然不想用 Proton。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a></span><span class=cl><span class=c1>// profile/user.js
</span></span></span><span class=line><span class=ln id=hl-0-2><a class=lnlinks href=#hl-0-2>2</a></span><span class=cl><span class=c1>// appearance: disable proton
</span></span></span><span class=line><span class=ln id=hl-0-3><a class=lnlinks href=#hl-0-3>3</a></span><span class=cl><span class=c1>// https://github.com/Aris-t2/CustomCSSforFx/issues/339
</span></span></span><span class=line><span class=ln id=hl-0-4><a class=lnlinks href=#hl-0-4>4</a></span><span class=cl><span class=c1></span><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-0-5><a class=lnlinks href=#hl-0-5>5</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.contextmenus.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-0-6><a class=lnlinks href=#hl-0-6>6</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.doorhangers.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-0-7><a class=lnlinks href=#hl-0-7>7</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.infobars.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-0-8><a class=lnlinks href=#hl-0-8>8</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.modals.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-0-9><a class=lnlinks href=#hl-0-9>9</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;browser.proton.places-tooltip.enabled&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span></code></pre></div></blockquote><p>常看我博客的朋友们可能已经发现了，我是个控制狂。很懒的控制狂，但依然是个控制狂。尤其是在我日常用的物品上，我会几乎不择手段地折腾每一件物品，直到完全满意为止；但是一旦我满意了，那么接下来很长一段时间我都不会再对它动任何手脚了，除非又出现新的不满。</p><p>对电子产品也一样，不仅是物理上的外观，还有软件层面，我都想要折腾到完全满意为止。但折腾软件这事儿并不是那么简单；作为一个半路出家的业余程序员，我一直觉得自己对电脑知识的认知是一个螺旋上升的过程，有时候一下就懂了，有时候过了几个月甚至几年才发现，哦，原来那句话是那个意思。因此，对电脑上的很多软件我都还处在正在早期的折腾过程中。</p><p>但最近折腾了好一通 Firefox 之后，感觉好像已经到达了一个不错的平衡，适合写篇总结了。我本来想把目前为止知道的所有东西都塞进这一篇博文里，但发现方向性实在差得有点远，那就先从容易写完（。）的外观改造开始吧。</p><hr><p>本系列的下一篇博文（如果有的话……）中会具体写我为什么喜欢 Firefox。一言以蔽之， Firefox 本身并不是一个专注于隐私（privacy-oriented）的浏览器，却是一个可定制化程度非常高的浏览器。有许多选项和插件能够用来控制 Firefox 的一举一动，包括各种隐私增强，也包括改变整个浏览器的外观。关于隐私问题，可以参考：<a class="link link--text" href=https://unixdigest.com/articles/choose-your-browser-carefully.html rel=external>Choose your browser carefully</a>。</p><p>在我对浏览器隐私保护的警惕性还没有现在这么高的时候，仅仅因为 Firefox 对外观定制的支持，它就已经足够成为我的首选浏览器了。我不是在说主题啊颜色啊那些几乎每个浏览器都有的东西。您见过能够通过添加几个 CSS 文件，就把一个浏览器改造成另一个浏览器的样子吗？我第一次发现这些东西的时候整个人都是懵的：（没试过，仅供参考，不代表推荐）</p><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-safari-style_hu17601930948782584314.png alt="Firefox skin that looks like Mac Safari"><figcaption><p><a class="link link--text" href=https://github.com/ideaweb/firefox-safari-style rel=external>ideaweb/firefox-safari-style</a></p></figcaption></figure><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-edge-theme_hu14788918600543563913.png alt="Firefox skin that looks like Edge"><figcaption><p><a class="link link--text" href=https://github.com/ideaweb/firefox-safari-style rel=external>ideaweb/firefox-safari-style</a></p></figcaption></figure><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-MaterialFox_hu7090349790463283601.png alt="Firefox skin that looks like Chrome"><figcaption><p><a class="link link--text" href=https://github.com/muckSponge/MaterialFox rel=external>muckSponge/MaterialFox</a></p></figcaption></figure><p>既然这种操作都可以，那么隐藏某个功能或按钮，或者改掉某个难看的图标，这种小事还不敢敢单单？</p><p>对 Firefox 的外观改造，主要是通过 <code>userChrome.css</code> 和 <code>userContent.css</code> 这两个文件进行的。这时候又要祭出我的<ruby>名言<rp>（读作：</rp><rt>迷惑发言</rt><rp>）</rp></ruby>了：</p><blockquote><p>我现在觉得不仅是捣鼓网页的人，任何人想要掌控自己的上网体验（或说「有尊严地」上网）都得会一点 JS 和 CSS。</p><p>~ unknown.l 2020-11-02</p></blockquote><p>那能怎么办，学呗。最近梳理博文，发现 2018 年时我还是个写出了几行表格 CSS 就欢呼雀跃的小朋友。时光飞逝啊。</p><h2 id=别人的设置><a class=h-a href=#%e5%88%ab%e4%ba%ba%e7%9a%84%e8%ae%be%e7%bd%ae>别人的设置</a></h2><p><a class="link link--text" href=https://github.com/Aris-t2/CustomCSSforFx rel=external>Aris-t2/CustomCSSforFx: Custom CSS tweaks for Firefox</a></p><p>这是我所知道的最全面也是最活跃的 Firefox 外观改造社区了。这个 repo 包含的选项之多之杂，偶尔翻一下很好玩，看久了容易头痛，我一般是有需要或者想参考具体写法的时候才去。</p><p>另外一些好康的：</p><ul><li><a class="link link--text" href=https://firefoxcss-store.github.io/ rel=external>FirefoxCSS Store</a></li><li><a class="link link--text" href=https://github.com/Timvde/UserChrome-Tweaks rel=external>Timvde/UserChrome-Tweaks: A community maintained repository of userChrome.css tweaks for Firefox</a></li><li><a class="link link--text" href=https://github.com/MrOtherGuy/firefox-csshacks/ rel=external>MrOtherGuy/firefox-csshacks: Collection of userstyles affecting the browser</a></li></ul><p>然后还有经常会碰到的几篇介绍向文章，如果您完全不知道我在说什么的话推荐读一读：</p><ul><li><a class="link link--text" href=https://www.reddit.com/r/firefox/wiki/userchrome rel=external>userchrome - firefox</a></li><li><a class="link link--text" href=https://www.reddit.com/r/FirefoxCSS/wiki/index/tutorials/ rel=external>index/tutorials - FirefoxCSS</a></li><li><a class="link link--text" href=https://www.userchrome.org/what-is-userchrome-css.html rel=external>What is userChrome.css? What can it do?</a></li><li><a class="link link--text" href=https://sspai.com/post/58605 rel=external>用下面这些方法，为自己高度定制一个 Firefox 浏览器 - 少数派</a></li></ul><h2 id=开启自定义外观的方法><a class=h-a href=#%e5%bc%80%e5%90%af%e8%87%aa%e5%ae%9a%e4%b9%89%e5%a4%96%e8%a7%82%e7%9a%84%e6%96%b9%e6%b3%95>开启自定义外观的方法</a></h2><ol><li>在地址栏里打 <code>about:config</code>，点<code>接受风险并继续</code>。</li><li>搜索 <code>toolkit.legacyUserProfileCustomizations.stylesheets</code>。<ul><li>如果不存在（？真的会这样吗），那么选择<code>布尔</code>类型，然后创建；</li><li>如果已经存在，但值是 <code>False</code>，点最右边的双箭头改成 <code>True</code>；</li><li>如果值是 <code>True</code>，那没事了。</li></ul></li></ol><p>找到用户文件夹：</p><ol><li>菜单栏里<code>帮助 > 更多故障排除信息</code>。</li><li>找到<code>配置文件夹</code>，打开。这里面应该已经放着一些，比如说 <code>prefs.js</code>，<code>extensions.json</code>，之类的文件。</li><li>如果没有文件夹叫 <code>chrome</code>，那么创建一个。如果有，点进去。</li><li>把 <code>userChrome.css</code> 和 <code>userContent.css</code> 放 <code>chrome</code> 里面就行了。注意每次修改后都需要重启浏览器才能生效。</li></ol><p>开启浏览器工具箱：</p><ol><li>找到 Web 工具箱设置。<ul><li>按 <kbd>option</kbd> + <kbd>command</kbd> + <kbd>I</kbd>（Windows：<kbd>ctrl</kbd> + <kbd>shift</kbd> + <kbd>I</kbd>），打开 Web 工具箱，然后某个地方有省略号下拉菜单，点进去找到设置；</li><li>或者直接按 <kbd>option</kbd> + <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>I</kbd>。</li></ul></li><li>在高级设置里，勾选<code>启用浏览器界面及附加组件的调试工具箱</code>和<code>启用远程调试</code>。</li></ol><p>或者，如果您知道您在做什么，所有东西放一起：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=ln id=hl-1-1><a class=lnlinks href=#hl-1-1>1</a></span><span class=cl><span class=c1>// profile/user.js
</span></span></span><span class=line><span class=ln id=hl-1-2><a class=lnlinks href=#hl-1-2>2</a></span><span class=cl><span class=c1></span><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;toolkit.legacyUserProfileCustomizations.stylesheets&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-1-3><a class=lnlinks href=#hl-1-3>3</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;devtools.chrome.enabled&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-1-4><a class=lnlinks href=#hl-1-4>4</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;devtools.debugger.remote-enabled&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-1-5><a class=lnlinks href=#hl-1-5>5</a></span><span class=cl><span class=nx>user_pref</span><span class=p>(</span><span class=s2>&#34;devtools.debugger.prompt-connection&#34;</span><span class=p>,</span> <span class=kc>false</span><span class=p>);</span>
</span></span></code></pre></div><h2 id=userchromecss><a class=h-a href=#userchromecss><code>userChrome.css</code></a></h2><p>以下代码全都是直接粘贴进 <code>userChrome.css</code> 就能用的。</p><h3 id=给标签图标加背景><a class=h-a href=#%e7%bb%99%e6%a0%87%e7%ad%be%e5%9b%be%e6%a0%87%e5%8a%a0%e8%83%8c%e6%99%af>给标签图标加背景</a></h3><p>第一次跳进这个兔子洞，其实是出于一件非常具体的不满。我不知道 Mac 的常规版本以及 Windows 版是什么样的，但是我用的 Firefox Developer Edition 在 Mac 上的默认主题是这样的：</p><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-default-theme_hu6636757121870457118.png alt="Firfox default theme"></figure><p>鉴于我对浏览器的要求是「消失」，这蓝色不够消失，我就整了个自定义主题，管它叫 <a class="link link--text" href=https://addons.mozilla.org/firefox/addon/boring-theme/ rel=external>boring theme</a>，长这样：</p><figure><img src=pic.external/unknown.l/2021-05-08-firefox-boring-theme.png alt="Firfox boring theme"></figure><p>但是用久了发现，有些网站的图标（favicon）在背景标签页里是这样的：</p><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-favicon-problem_hu38783732740006970.png alt="Firfox favicon problem"></figure><p>如果您用过 GitHub CI 就会知道，它会在 GitHub 那个本来已经很小的 favicon 右下角加一个更小的红色的叉或者绿色的勾来表示 CI 成功了没有。真的，就这个背景啊，根本没有人类能够看出它到底是个勾还是个叉。
这事儿困扰了我好几个月，哪儿都没有答案，Reddit 上有个加方格子背景的，用了一阵子之后觉得不够优雅（详情参见<a class="link link--text" href=https://www.reddit.com/r/firefox/comments/n5b9hu/ rel=external>我在 r/firefox 发的帖</a>），最后还是浴室沉思完自己解决了。现在我的标签页栏长这样：</p><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-favicon-solution_hu9957506463225997996.png alt="Firfox favicon solution"></figure><p>这就是那种，只要找到了解决方法（通常还很简单）动手一次就能一劳永逸的问题。而且 <code>userChrome.css</code> 是直接写在设置里的，就算重启、重装、甚至换电脑，也只要把文件复制过去就完事儿了。这件事情让我回味了好久最开始学编程的感动。</p><p>扯远了。代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a></span><span class=cl><span class=p>.</span><span class=nc>tab-icon-image</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-2-2><a class=lnlinks href=#hl-2-2>2</a></span><span class=cl>  <span class=k>filter</span><span class=p>:</span> <span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>1</span><span class=kt>px</span> <span class=mi>0</span> <span class=mi>0</span> <span class=kc>white</span><span class=p>)</span>
</span></span><span class=line><span class=ln id=hl-2-3><a class=lnlinks href=#hl-2-3>3</a></span><span class=cl>          <span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>-1</span><span class=kt>px</span> <span class=mi>0</span> <span class=mi>0</span> <span class=kc>white</span><span class=p>)</span>
</span></span><span class=line><span class=ln id=hl-2-4><a class=lnlinks href=#hl-2-4>4</a></span><span class=cl>          <span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>0</span> <span class=mi>1</span><span class=kt>px</span> <span class=mi>0</span> <span class=kc>white</span><span class=p>)</span>
</span></span><span class=line><span class=ln id=hl-2-5><a class=lnlinks href=#hl-2-5>5</a></span><span class=cl>          <span class=nb>drop-shadow</span><span class=p>(</span><span class=mi>0</span> <span class=mi>-1</span><span class=kt>px</span> <span class=mi>0</span> <span class=kc>white</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-2-6><a class=lnlinks href=#hl-2-6>6</a></span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=始终隐藏显示某些按钮><a class=h-a href=#%e5%a7%8b%e7%bb%88%e9%9a%90%e8%97%8f%e6%98%be%e7%a4%ba%e6%9f%90%e4%ba%9b%e6%8c%89%e9%92%ae>始终隐藏／显示某些按钮</a></h3><p>比如一个很简单的需求：能不能一直显示「阅读器视图」按钮？（<del>我不要 Firefox 觉得这个页面合不合适阅读模式，我要我觉得</del>）</p><p>有时候 Firefox 到底给不给您那个按钮的逻辑是很混乱的，甚至有许多人做了<a class="link link--text" href="https://addons.mozilla.org/firefox/search/?q=Reader%20View" rel=external>各种各样的扩展</a>试图解决这个问题，但是我基本都试了，没一个稳定的。最后某天在浏览器工具箱里乱翻的时候发现，得，这个按钮居然永远都在那儿，只是有时候不显示而已。</p><p>代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a></span><span class=cl><span class=p>#</span><span class=nn>reader-mode-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-3-2><a class=lnlinks href=#hl-3-2>2</a></span><span class=cl>    <span class=k>visibility</span><span class=p>:</span> <span class=kc>visible</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-3-3><a class=lnlinks href=#hl-3-3>3</a></span><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>block</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-3-4><a class=lnlinks href=#hl-3-4>4</a></span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>再比如一个很简单的需求：能不能不要显示那个新建标签页的加号按钮？我压根就没用过，那么大一个按钮搁那儿，白白占了我本来就标签页一大堆的位置。（那怎么新建标签页？<kbd>command</kbd> + <kbd>T</kbd>啊！）</p><p>代码：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a></span><span class=cl><span class=p>#</span><span class=nn>new-tab-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-4-2><a class=lnlinks href=#hl-4-2>2</a></span><span class=cl>    <span class=k>visibility</span><span class=p>:</span> <span class=kc>collapse</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-4-3><a class=lnlinks href=#hl-4-3>3</a></span><span class=cl>    <span class=k>display</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-4-4><a class=lnlinks href=#hl-4-4>4</a></span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>不难发现， Firefox UI 里重要的按钮基本上都有 id，所以不论要显示什么或者隐藏什么，找到 id 之后照着这个模板往里加就是了。很简单吧。</p><h3 id=改造标签栏的布局><a class=h-a href=#%e6%94%b9%e9%80%a0%e6%a0%87%e7%ad%be%e6%a0%8f%e7%9a%84%e5%b8%83%e5%b1%80>改造标签栏的布局</a></h3><p>先直接看效果吧：</p><div style=display:inline><video muted controls style=max-width:74rem>
<source src=pic.external/unknown.l/2021-05-08-firefox-tab.mp4 type=video/mp4></video></div><p>这是我非常喜欢的一个改动，融合了 <a class="link link--text" href=https://github.com/Aris-t2/CustomCSSforFx rel=external>Aris-t2/CustomCSSforFx</a> 里的几个（标着不能同时使用！的）文件。怎么说呢，一切都是为了有更多空间显示标题，以及能随时关掉任何背景标签页。</p><p>本来灵感是 Safari，结果改完之后回头一看，好家伙，Safari 的关闭按钮跟 favicon 是分别占位置的。那没事了。</p><p>代码中的要点如下：</p><ol><li>把关闭按钮放到整个标签的最左边，并调整大小到与 favicon 一致；</li><li>让关闭按钮仅在 hover 时显示（对背景标签页也生效）；</li><li>为了防止 UI 元素闪烁，必须确保 favicon 的位置，所以在网站没设置 favicon 的时候显示默认占位用 favicon；</li><li>hover 时不显示 favicon；</li><li>（不知道是强迫症友好还是强迫症不友好）标题如果显示不全的话，会有个半透明的遮罩，我嫌麻烦给隐藏了，这样能多看清几个字。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln id=hl-5-1><a class=lnlinks href=#hl-5-1> 1</a></span><span class=cl><span class=c>/* unknown.l: adjust tab content order */</span>
</span></span><span class=line><span class=ln id=hl-5-2><a class=lnlinks href=#hl-5-2> 2</a></span><span class=cl><span class=p>.</span><span class=nc>tab-content</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-3><a class=lnlinks href=#hl-5-3> 3</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=k>grid</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-4><a class=lnlinks href=#hl-5-4> 4</a></span><span class=cl>  <span class=k>grid-auto-flow</span><span class=p>:</span> <span class=kc>column</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-5><a class=lnlinks href=#hl-5-5> 5</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-6><a class=lnlinks href=#hl-5-6> 6</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-7><a class=lnlinks href=#hl-5-7> 7</a></span><span class=cl><span class=p>.</span><span class=nc>tab-close-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-8><a class=lnlinks href=#hl-5-8> 8</a></span><span class=cl>  <span class=k>padding</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-9><a class=lnlinks href=#hl-5-9> 9</a></span><span class=cl>  <span class=k>grid-column</span><span class=p>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-10><a class=lnlinks href=#hl-5-10>10</a></span><span class=cl>  <span class=k>margin-left</span><span class=p>:</span> <span class=mi>-4</span><span class=kt>px</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-11><a class=lnlinks href=#hl-5-11>11</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-12><a class=lnlinks href=#hl-5-12>12</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-13><a class=lnlinks href=#hl-5-13>13</a></span><span class=cl><span class=c>/* unknown.l: hide title mask */</span>
</span></span><span class=line><span class=ln id=hl-5-14><a class=lnlinks href=#hl-5-14>14</a></span><span class=cl><span class=p>.</span><span class=nc>tab-label-container</span> <span class=p>{</span> <span class=k>mask-image</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-15><a class=lnlinks href=#hl-5-15>15</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-16><a class=lnlinks href=#hl-5-16>16</a></span><span class=cl><span class=c>/* Firefox Quantum userChrome.css tweaks ************************************************/</span>
</span></span><span class=line><span class=ln id=hl-5-17><a class=lnlinks href=#hl-5-17>17</a></span><span class=cl><span class=c>/* Github: https://github.com/aris-t2/customcssforfx ************************************/</span>
</span></span><span class=line><span class=ln id=hl-5-18><a class=lnlinks href=#hl-5-18>18</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-19><a class=lnlinks href=#hl-5-19>19</a></span><span class=cl><span class=c>/****************************************************************************************/</span>
</span></span><span class=line><span class=ln id=hl-5-20><a class=lnlinks href=#hl-5-20>20</a></span><span class=cl><span class=c>/* tab close icon settings - [only use one at a time] *******************************************/</span>
</span></span><span class=line><span class=ln id=hl-5-21><a class=lnlinks href=#hl-5-21>21</a></span><span class=cl><span class=c>/* tab_close_show_on_hover_only.css */</span>
</span></span><span class=line><span class=ln id=hl-5-22><a class=lnlinks href=#hl-5-22>22</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-23><a class=lnlinks href=#hl-5-23>23</a></span><span class=cl><span class=p>#</span><span class=nn>TabsToolbar</span> <span class=p>#</span><span class=nn>tabbrowser-tabs</span> <span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])</span><span class=p>:</span><span class=nd>not</span><span class=o>(</span><span class=p>:</span><span class=nd>hover</span><span class=o>)</span> <span class=p>.</span><span class=nc>tab-close-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-24><a class=lnlinks href=#hl-5-24>24</a></span><span class=cl>  <span class=k>visibility</span><span class=p>:</span> <span class=kc>collapse</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-25><a class=lnlinks href=#hl-5-25>25</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-26><a class=lnlinks href=#hl-5-26>26</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-27><a class=lnlinks href=#hl-5-27>27</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-28><a class=lnlinks href=#hl-5-28>28</a></span><span class=cl><span class=p>#</span><span class=nn>TabsToolbar</span> <span class=p>#</span><span class=nn>tabbrowser-tabs</span> <span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])</span><span class=p>:</span><span class=nd>hover</span> <span class=p>.</span><span class=nc>tab-close-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-29><a class=lnlinks href=#hl-5-29>29</a></span><span class=cl>  <span class=k>visibility</span><span class=p>:</span> <span class=kc>visible</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-30><a class=lnlinks href=#hl-5-30>30</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>block</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-31><a class=lnlinks href=#hl-5-31>31</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-32><a class=lnlinks href=#hl-5-32>32</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-33><a class=lnlinks href=#hl-5-33>33</a></span><span class=cl><span class=c>/* tab_close_at_tabs_start.css&#34; */</span>
</span></span><span class=line><span class=ln id=hl-5-34><a class=lnlinks href=#hl-5-34>34</a></span><span class=cl><span class=c>/* unknown.l: slightly adjusted margins to go with favicon */</span>
</span></span><span class=line><span class=ln id=hl-5-35><a class=lnlinks href=#hl-5-35>35</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-36><a class=lnlinks href=#hl-5-36>36</a></span><span class=cl><span class=p>#</span><span class=nn>TabsToolbar</span> <span class=p>#</span><span class=nn>tabbrowser-tabs</span> <span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])</span> <span class=p>.</span><span class=nc>tab-close-button</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-37><a class=lnlinks href=#hl-5-37>37</a></span><span class=cl>  <span class=kp>-moz-</span><span class=n>box-ordinal-group</span><span class=p>:</span> <span class=mi>0</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-38><a class=lnlinks href=#hl-5-38>38</a></span><span class=cl>  <span class=kp>-moz-</span><span class=n>margin-start</span><span class=p>:</span> <span class=mi>-4</span><span class=kt>px</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-39><a class=lnlinks href=#hl-5-39>39</a></span><span class=cl>  <span class=kp>-moz-</span><span class=n>margin-end</span><span class=p>:</span> <span class=mf>1.5</span><span class=kt>px</span> <span class=cp>!important</span><span class=p>;</span> <span class=c>/* Proton*/</span>
</span></span><span class=line><span class=ln id=hl-5-40><a class=lnlinks href=#hl-5-40>40</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-41><a class=lnlinks href=#hl-5-41>41</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-42><a class=lnlinks href=#hl-5-42>42</a></span><span class=cl><span class=c>/* missing_tab_favicon_restored_default.css */</span>
</span></span><span class=line><span class=ln id=hl-5-43><a class=lnlinks href=#hl-5-43>43</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-44><a class=lnlinks href=#hl-5-44>44</a></span><span class=cl><span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])</span> <span class=p>.</span><span class=nc>tab-icon-image</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>src</span><span class=o>])</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-45><a class=lnlinks href=#hl-5-45>45</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>inline</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-46><a class=lnlinks href=#hl-5-46>46</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-47><a class=lnlinks href=#hl-5-47>47</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-48><a class=lnlinks href=#hl-5-48>48</a></span><span class=cl><span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])[</span><span class=nt>busy</span><span class=o>]</span> <span class=p>.</span><span class=nc>tab-icon-image</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-49><a class=lnlinks href=#hl-5-49>49</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-50><a class=lnlinks href=#hl-5-50>50</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-5-51><a class=lnlinks href=#hl-5-51>51</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-5-52><a class=lnlinks href=#hl-5-52>52</a></span><span class=cl><span class=c>/* unknown.l: hide favicon when close button appears */</span>
</span></span><span class=line><span class=ln id=hl-5-53><a class=lnlinks href=#hl-5-53>53</a></span><span class=cl><span class=p>#</span><span class=nn>TabsToolbar</span> <span class=p>#</span><span class=nn>tabbrowser-tabs</span> <span class=p>.</span><span class=nc>tabbrowser-tab</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>pinned</span><span class=o>])</span><span class=p>:</span><span class=nd>hover</span> <span class=p>.</span><span class=nc>tab-icon-stack</span> <span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-5-54><a class=lnlinks href=#hl-5-54>54</a></span><span class=cl>  <span class=k>visibility</span><span class=p>:</span> <span class=kc>collapse</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-55><a class=lnlinks href=#hl-5-55>55</a></span><span class=cl>  <span class=k>display</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-5-56><a class=lnlinks href=#hl-5-56>56</a></span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=隐藏闲置的工具栏><a class=h-a href=#%e9%9a%90%e8%97%8f%e9%97%b2%e7%bd%ae%e7%9a%84%e5%b7%a5%e5%85%b7%e6%a0%8f>隐藏闲置的工具栏</a></h3><p>同样，先看效果：</p><video muted controls style=max-width:74rem>
<source src=pic.external/unknown.l/2021-05-08-firefox-toolbar.mp4 type=video/mp4></video><p>这是一个本质上来自视力和注意力缺陷的烦恼：我的视野范围很狭窄，用不了太大的屏幕，而且屏幕上元素一多就容易分心。</p><p>忘记了某天我在干什么的时候，突然这样想：浏览器，在「浏览」的时候，其实只需要显示最低限度的 UI 就行了，别的都可以在需要时候再叫出来，就像隐藏 macOS 的程序坞一样，既省出了宝贵的屏幕空间，又减少了屏幕上的视觉元素，能让我更好地将注意力集中在网页本身。</p><p>还是那句话，我对浏览器的要求是「消失」。</p><p>然后就找到了这段来自 <a class="link link--text" href=https://github.com/MrOtherGuy/firefox-csshacks/tree/master rel=external>MrOtherGuy/firefox-csshacks</a> 的代码。注释很清晰，我就不列要点了，只备注一下：第一段 <code>#navigator-toolbox</code> 高亮那几行的数字，尤其是 <code>--uc-bm-height</code>，可以根据自己屏幕大小（和想不想要网页最上面那条边框）适当调整。我的屏幕是 13 寸，供参考。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=ln id=hl-6-1><a class=lnlinks href=#hl-6-1> 1</a></span><span class=cl><span class=c>/* autohide bookmarks and main toolbars */</span>
</span></span><span class=line><span class=ln id=hl-6-2><a class=lnlinks href=#hl-6-2> 2</a></span><span class=cl><span class=c>/*
</span></span></span><span class=line><span class=ln id=hl-6-3><a class=lnlinks href=#hl-6-3> 3</a></span><span class=cl><span class=c>Source file: https://github.com/MrOtherGuy/firefox-csshacks/tree/master/chrome/autohide_bookmarks_and_main_toolbars.css
</span></span></span><span class=line><span class=ln id=hl-6-4><a class=lnlinks href=#hl-6-4> 4</a></span><span class=cl><span class=c>made available under Mozilla Public License v. 2.0
</span></span></span><span class=line><span class=ln id=hl-6-5><a class=lnlinks href=#hl-6-5> 5</a></span><span class=cl><span class=c>See the above repository for updates as well as full license text.
</span></span></span><span class=line><span class=ln id=hl-6-6><a class=lnlinks href=#hl-6-6> 6</a></span><span class=cl><span class=c> */</span>
</span></span><span class=line><span class=ln id=hl-6-7><a class=lnlinks href=#hl-6-7> 7</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-8><a class=lnlinks href=#hl-6-8> 8</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span>
</span></span><span class="line hl"><span class=ln id=hl-6-9><a class=lnlinks href=#hl-6-9> 9</a></span><span class=cl>  <span class=nv>--uc-bm-height</span><span class=p>:</span> <span class=mi>30</span><span class=kt>px</span><span class=p>;</span> <span class=c>/* Might need to adjust if the toolbar has other buttons */</span> <span class=c>/* Proton*/</span>
</span></span><span class="line hl"><span class=ln id=hl-6-10><a class=lnlinks href=#hl-6-10>10</a></span><span class=cl>  <span class=nv>--uc-bm-padding</span><span class=p>:</span> <span class=mi>2</span><span class=kt>px</span><span class=p>;</span> <span class=c>/* Vertical padding to be applied to bookmarks */</span>
</span></span><span class="line hl"><span class=ln id=hl-6-11><a class=lnlinks href=#hl-6-11>11</a></span><span class=cl>  <span class=nv>--uc-navbar-height</span><span class=p>:</span> <span class=mi>-36</span><span class=kt>px</span><span class=p>;</span> <span class=c>/* navbar is main toolbar. Use negative value */</span>
</span></span><span class="line hl"><span class=ln id=hl-6-12><a class=lnlinks href=#hl-6-12>12</a></span><span class=cl>  <span class=nv>--uc-autohide-toolbar-delay</span><span class=p>:</span> <span class=mi>600</span><span class=kt>ms</span><span class=p>;</span> <span class=c>/* The toolbar is hidden after 0.6s */</span>
</span></span><span class=line><span class=ln id=hl-6-13><a class=lnlinks href=#hl-6-13>13</a></span><span class=cl>  <span class=c>/*! border: none; */</span>
</span></span><span class=line><span class=ln id=hl-6-14><a class=lnlinks href=#hl-6-14>14</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-15><a class=lnlinks href=#hl-6-15>15</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-16><a class=lnlinks href=#hl-6-16>16</a></span><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>uidensity</span><span class=o>=</span><span class=s2>&#34;compact&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span> <span class=nv>--uc-bm-padding</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span><span class=p>;</span> <span class=nv>--uc-navbar-height</span><span class=p>:</span> <span class=mi>-32</span><span class=kt>px</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-17><a class=lnlinks href=#hl-6-17>17</a></span><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>uidensity</span><span class=o>=</span><span class=s2>&#34;touch&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span> <span class=nv>--uc-bm-padding</span><span class=p>:</span> <span class=mi>6</span><span class=kt>px</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-18><a class=lnlinks href=#hl-6-18>18</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-19><a class=lnlinks href=#hl-6-19>19</a></span><span class=cl><span class=p>@</span><span class=k>media</span> <span class=o>(</span><span class=nt>-moz-proton</span><span class=o>)</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-20><a class=lnlinks href=#hl-6-20>20</a></span><span class=cl>  <span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-21><a class=lnlinks href=#hl-6-21>21</a></span><span class=cl>     <span class=nv>--uc-bm-height</span><span class=p>:</span> <span class=mi>26</span><span class=kt>px</span><span class=p>;</span> <span class=c>/* Might need to adjust if the toolbar has other buttons */</span>
</span></span><span class=line><span class=ln id=hl-6-22><a class=lnlinks href=#hl-6-22>22</a></span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-23><a class=lnlinks href=#hl-6-23>23</a></span><span class=cl>  <span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>uidensity</span><span class=o>=</span><span class=s2>&#34;compact&#34;</span><span class=o>]</span> <span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-24><a class=lnlinks href=#hl-6-24>24</a></span><span class=cl>    <span class=nv>--uc-navbar-height</span><span class=p>:</span> <span class=mi>-34</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-25><a class=lnlinks href=#hl-6-25>25</a></span><span class=cl>    <span class=nv>--uc-bm-height</span><span class=p>:</span> <span class=mi>23</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-26><a class=lnlinks href=#hl-6-26>26</a></span><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-27><a class=lnlinks href=#hl-6-27>27</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-28><a class=lnlinks href=#hl-6-28>28</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-29><a class=lnlinks href=#hl-6-29>29</a></span><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>sessionrestored</span><span class=o>]</span> <span class=p>#</span><span class=nn>nav-bar</span><span class=o>,</span>
</span></span><span class=line><span class=ln id=hl-6-30><a class=lnlinks href=#hl-6-30>30</a></span><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>sessionrestored</span><span class=o>]</span> <span class=p>#</span><span class=nn>PersonalToolbar</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-31><a class=lnlinks href=#hl-6-31>31</a></span><span class=cl>  <span class=k>transform</span><span class=p>:</span> <span class=nb>rotateX</span><span class=p>(</span><span class=mi>90</span><span class=kt>deg</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-6-32><a class=lnlinks href=#hl-6-32>32</a></span><span class=cl>  <span class=k>transform-origin</span><span class=p>:</span> <span class=kc>top</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-33><a class=lnlinks href=#hl-6-33>33</a></span><span class=cl>  <span class=k>transition</span><span class=p>:</span> <span class=k>transform</span> <span class=mi>135</span><span class=kt>ms</span> <span class=kc>linear</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>autohide</span><span class=o>-</span><span class=n>toolbar</span><span class=o>-</span><span class=n>delay</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-34><a class=lnlinks href=#hl-6-34>34</a></span><span class=cl>  <span class=k>z-index</span><span class=p>:</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-35><a class=lnlinks href=#hl-6-35>35</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-36><a class=lnlinks href=#hl-6-36>36</a></span><span class=cl><span class=p>#</span><span class=nn>nav-bar</span><span class=o>[</span><span class=nt>customizing</span><span class=o>],</span><span class=p>#</span><span class=nn>PersonalToolbar</span><span class=o>[</span><span class=nt>customizing</span><span class=o>]</span><span class=p>{</span> <span class=k>transform</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-37><a class=lnlinks href=#hl-6-37>37</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-38><a class=lnlinks href=#hl-6-38>38</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span> <span class=o>&gt;</span> <span class=p>#</span><span class=nn>PersonalToolbar</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-39><a class=lnlinks href=#hl-6-39>39</a></span><span class=cl>  <span class=k>transform-origin</span><span class=p>:</span> <span class=mi>0</span><span class=kt>px</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>navbar</span><span class=o>-</span><span class=n>height</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-6-40><a class=lnlinks href=#hl-6-40>40</a></span><span class=cl>  <span class=k>z-index</span><span class=p>:</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-41><a class=lnlinks href=#hl-6-41>41</a></span><span class=cl>  <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-42><a class=lnlinks href=#hl-6-42>42</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-43><a class=lnlinks href=#hl-6-43>43</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-44><a class=lnlinks href=#hl-6-44>44</a></span><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>sessionrestored</span><span class=o>]</span><span class=p>:</span><span class=nd>not</span><span class=o>([</span><span class=nt>customizing</span><span class=o>])</span> <span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span> <span class=k>margin-bottom</span><span class=p>:</span>  <span class=nb>calc</span><span class=p>(</span><span class=mi>2</span><span class=kt>px</span> <span class=o>-</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>bm</span><span class=o>-</span><span class=n>height</span><span class=p>)</span> <span class=o>-</span> <span class=mi>2</span> <span class=o>*</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>bm</span><span class=o>-</span><span class=n>padding</span><span class=p>)</span> <span class=o>+</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>navbar</span><span class=o>-</span><span class=n>height</span><span class=p>));</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-45><a class=lnlinks href=#hl-6-45>45</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-46><a class=lnlinks href=#hl-6-46>46</a></span><span class=cl><span class=p>#</span><span class=nn>PlacesToolbarItems</span> <span class=o>&gt;</span> <span class=p>.</span><span class=nc>bookmark-item</span><span class=o>,</span>
</span></span><span class=line><span class=ln id=hl-6-47><a class=lnlinks href=#hl-6-47>47</a></span><span class=cl><span class=p>#</span><span class=nn>OtherBookmarks</span><span class=o>,</span>
</span></span><span class=line><span class=ln id=hl-6-48><a class=lnlinks href=#hl-6-48>48</a></span><span class=cl><span class=p>#</span><span class=nn>PersonalToolbar</span> <span class=o>&gt;</span> <span class=p>#</span><span class=nn>import-button</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-49><a class=lnlinks href=#hl-6-49>49</a></span><span class=cl>  <span class=n>padding-block</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>uc</span><span class=o>-</span><span class=n>bm</span><span class=o>-</span><span class=n>padding</span><span class=p>)</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-50><a class=lnlinks href=#hl-6-50>50</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-51><a class=lnlinks href=#hl-6-51>51</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-52><a class=lnlinks href=#hl-6-52>52</a></span><span class=cl><span class=c>/* Make sure the bookmarks toolbar is never collapsed even if it is disabled */</span>
</span></span><span class=line><span class=ln id=hl-6-53><a class=lnlinks href=#hl-6-53>53</a></span><span class=cl><span class=p>#</span><span class=nn>PersonalToolbar</span><span class=o>[</span><span class=nt>collapsed</span><span class=o>=</span><span class=s2>&#34;true&#34;</span><span class=o>]</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-54><a class=lnlinks href=#hl-6-54>54</a></span><span class=cl>  <span class=k>min-height</span><span class=p>:</span> <span class=kc>initial</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-55><a class=lnlinks href=#hl-6-55>55</a></span><span class=cl>  <span class=k>max-height</span><span class=p>:</span> <span class=kc>initial</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-56><a class=lnlinks href=#hl-6-56>56</a></span><span class=cl>  <span class=k>visibility</span><span class=p>:</span> <span class=kc>hidden</span> <span class=cp>!important</span>
</span></span><span class=line><span class=ln id=hl-6-57><a class=lnlinks href=#hl-6-57>57</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-58><a class=lnlinks href=#hl-6-58>58</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-59><a class=lnlinks href=#hl-6-59>59</a></span><span class=cl><span class=c>/* The invisible toolbox will overlap sidebar so we&#39;ll work around that here */</span>
</span></span><span class=line><span class=ln id=hl-6-60><a class=lnlinks href=#hl-6-60>60</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>{</span> <span class=n>pointer-events</span><span class=p>:</span> <span class=kc>none</span><span class=p>;</span> <span class=k>border-bottom</span><span class=p>:</span> <span class=kc>none</span> <span class=cp>!important</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-61><a class=lnlinks href=#hl-6-61>61</a></span><span class=cl><span class=p>#</span><span class=nn>PersonalToolbar</span><span class=p>{</span> <span class=k>border-bottom</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>chrome</span><span class=o>-</span><span class=n>content</span><span class=o>-</span><span class=n>separator</span><span class=o>-</span><span class=kc>color</span><span class=p>)</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-62><a class=lnlinks href=#hl-6-62>62</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span> <span class=o>&gt;</span> <span class=o>*</span><span class=p>{</span> <span class=n>pointer-events</span><span class=p>:</span> <span class=kc>auto</span><span class=p>;</span> <span class=c>/*! border: none; */</span><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-63><a class=lnlinks href=#hl-6-63>63</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-64><a class=lnlinks href=#hl-6-64>64</a></span><span class=cl><span class=p>#</span><span class=nn>sidebar-box</span><span class=p>{</span> <span class=k>position</span><span class=p>:</span> <span class=kc>relative</span> <span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-65><a class=lnlinks href=#hl-6-65>65</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-66><a class=lnlinks href=#hl-6-66>66</a></span><span class=cl><span class=c>/* SELECT TOOLBAR BEHAVIOR */</span>
</span></span><span class=line><span class=ln id=hl-6-67><a class=lnlinks href=#hl-6-67>67</a></span><span class=cl><span class=c>/* Comment out or delete one of these to disable that behavior */</span>
</span></span><span class=line><span class=ln id=hl-6-68><a class=lnlinks href=#hl-6-68>68</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-69><a class=lnlinks href=#hl-6-69>69</a></span><span class=cl><span class=c>/* Show when urlbar is focused */</span>
</span></span><span class=line><span class=ln id=hl-6-70><a class=lnlinks href=#hl-6-70>70</a></span><span class=cl><span class=p>#</span><span class=nn>nav-bar</span><span class=p>:</span><span class=nd>focus-within</span> <span class=o>+</span> <span class=p>#</span><span class=nn>PersonalToolbar</span><span class=o>,</span>
</span></span><span class=line><span class=ln id=hl-6-71><a class=lnlinks href=#hl-6-71>71</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span> <span class=o>&gt;</span> <span class=p>#</span><span class=nn>nav-bar</span><span class=p>:</span><span class=nd>focus-within</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-72><a class=lnlinks href=#hl-6-72>72</a></span><span class=cl>  <span class=k>transition-delay</span><span class=p>:</span> <span class=mi>100</span><span class=kt>ms</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-73><a class=lnlinks href=#hl-6-73>73</a></span><span class=cl>  <span class=k>transform</span><span class=p>:</span> <span class=nb>rotateX</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-6-74><a class=lnlinks href=#hl-6-74>74</a></span><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=ln id=hl-6-75><a class=lnlinks href=#hl-6-75>75</a></span><span class=cl>
</span></span><span class=line><span class=ln id=hl-6-76><a class=lnlinks href=#hl-6-76>76</a></span><span class=cl><span class=c>/* Show when cursor is over the toolbar area */</span>
</span></span><span class=line><span class=ln id=hl-6-77><a class=lnlinks href=#hl-6-77>77</a></span><span class=cl><span class=p>#</span><span class=nn>navigator-toolbox</span><span class=p>:</span><span class=nd>hover</span> <span class=o>&gt;</span> <span class=p>.</span><span class=nc>browser-toolbar</span><span class=p>{</span>
</span></span><span class=line><span class=ln id=hl-6-78><a class=lnlinks href=#hl-6-78>78</a></span><span class=cl>  <span class=k>transition-delay</span><span class=p>:</span> <span class=mi>100</span><span class=kt>ms</span> <span class=cp>!important</span><span class=p>;</span>
</span></span><span class=line><span class=ln id=hl-6-79><a class=lnlinks href=#hl-6-79>79</a></span><span class=cl>  <span class=k>transform</span><span class=p>:</span> <span class=nb>rotateX</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
</span></span><span class=line><span class=ln id=hl-6-80><a class=lnlinks href=#hl-6-80>80</a></span><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=usercontentcss><a class=h-a href=#usercontentcss><code>userContent.css</code></a></h2><p>兔子洞里更深一层的兔子洞。</p><p>这个文件是用来修改 Firefox 自带的设置等页面的。我没什么特别想改的，所以还没太深入了解，到目前为止唯一改了的是把扩展一览页面改成紧凑模式，用的这个文件： <a class="link link--text" href=https://github.com/Aris-t2/CustomCSSforFx/blob/master/classic/css/aboutaddons/addonlists_compact_fx72.css rel=external>CustomCSSforFx/addonlists_compact_fx72.css</a> （直接全选粘贴）。效果长这样：</p><figure><img src=/p/de989ed13/messing-with-firefox-appearance/pic.external/unknown.l/2021-05-08-firefox-about-addons_hu15252572635086904605.png alt="Firefox about:addons"></figure><p>呼，真是篇长文。今天就到此为止吧。</p><hr><p class=box-info>本文由 <a class="link link--text" href=/authors/unknown.l>unknown.l</a> 原创，并以 CC BY-NC 协议授权 <a class="link link--text" href=/authors/clsty/>clsty</a> 使用。&#8200;<br class=br-cond></p></div><div class=margin-full><section class=section><h2>相关阅读</h2><nav class="card-nav card-nav--2"><ul class=card-nav__list><li class="card card--1 card--1--row"><a href=/p/4b43cc5e4/firefox-disable-drm-notification/ class=card__hover><div class="card__flex card__flex--half"><figure class="fig fig--w-tiny card__fig card__fig--half"><span class="img__frame img__frame--bg-none img__frame--box-shadow img__frame--pad-none"><span class="img__c img__c--t-symbol"><img alt="Firefox logo" class=img--svg loading=lazy src=/p/4b43cc5e4/firefox-disable-drm-notification/pic.featured/firefox-quantum-logo.svg></span></span></figure><div class=card__content><div><div class=card__header><div class="meta meta--card meta--card--half"><ul class="ul--row meta__list"><li class="meta__item meta__list"><span class=meta__text>散文屋</span></li></ul></div><h3 class="card__title card__title--half">Firefox 禁用 DRM 提示</h3></div></div></div></div></a></li></ul></nav></section></div></article><footer class="page-footer margin-full"><div class="meta meta--foot"><nav><ul class=meta__list><li class="taxo-shape taxo-shape--category"><ul class=ul--row><li class=meta__hanging><a class="link link--nav" href=/categories/ title="All Categories"><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="m5.042 9.479 4.979-8.146L15 9.479zm9.666 9.167q-1.646.0-2.791-1.156-1.146-1.157-1.146-2.782.0-1.646 1.146-2.791 1.145-1.146 2.791-1.146 1.625.0 2.782 1.146 1.156 1.145 1.156 2.791.0 1.625-1.156 2.782-1.157 1.156-2.782 1.156zm-12.583-.417v-7.062h7.063v7.062z"/></svg></span></a></li><li class="meta__item meta__item--taxo"><a class="meta__text link link--nav" href=/categories/howto/>指南向</a></li></ul></li><li class="taxo-shape taxo-shape--tag"><ul class=ul--row><li class=meta__hanging><a class="link link--nav" href=/tags/ title="All Tags"><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M3.188 10.542v5.875L.917 15.5zm4.062 7.75h-2.5V11.5zm1.958.75L4.146 5.333 14 1.75l5.042 13.729zm.021-10.5q.396.0.677-.282.282-.281.282-.677.0-.375-.282-.656-.281-.281-.677-.281-.375.0-.656.281t-.281.656q0 .396.281.677.281.282.656.282z"/></svg></span></a></li><li class="meta__item meta__item--taxo"><a class="meta__text link link--nav" href=/tags/firefox/>Firefox</a></li></ul></li></ul><ul class="ul--row meta__list"><li class=meta__item><a class="meta__icon link link--nav" href=/ title=Home rel=nofollow><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M3.167 17.667V7.438L10 2.292l6.833 5.146v10.229h-5.75v-5.646H8.896v5.646z"/></svg></span></a></li><li class=meta__item><span class=meta__separator>›</span></li><li class=meta__item><a class="meta__text link link--nav" href=/blog/ rel=nofollow>散文屋
</a><span class=meta__separator>›</span></li><li class=meta__item><a class="meta__text link link--nav" href=/p/de989ed13/messing-with-firefox-appearance/ aria-current=page rel=nofollow>折腾 Firefox 浏览器（外观篇）</a></li></ul></nav><ul class="meta__list meta__list--date"><li class=meta__item><span class=meta__icon><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="m16.208 7.604-3.75-3.771 2.271-2.291 3.792 3.75zm-13.75 9.979v-3.75l8.771-8.771 3.75 3.75-8.75 8.771z"/></svg></span>
</span><time class=meta__text datetime=2024-05-19T04:00:00+08:00>May 19, 2024</time></li><li class=meta__item><span class=meta__icon><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M10 18.5q-1.771.0-3.323-.667-1.552-.666-2.698-1.812t-1.812-2.698Q1.5 11.771 1.5 10t.667-3.323q.666-1.552 1.812-2.698t2.698-1.812Q8.229 1.5 10 1.5t3.323.667q1.552.666 2.698 1.812t1.812 2.698Q18.5 8.229 18.5 10t-.667 3.323q-.666 1.552-1.812 2.698t-2.698 1.812Q11.771 18.5 10 18.5zm2.583-4.562 1.375-1.355-3-2.979V5.896H9.042v4.458z"/></svg></span>
</span><span class=meta__text>4:00 am</span></li><li class=meta__item><span class=meta__icon><a class="link link--nav" href=/authors/ title="All authors" rel=nofollow><span class='icon icon--material icon--tiny'><svg viewBox="0 0 20 20"><path d="M15.042 11.458V9.042h-2.417V7.208h2.417V4.792h1.833v2.416h2.417v1.834h-2.417v2.416zm-7.48-1.562q-1.479.0-2.489-1.011-1.011-1.01-1.011-2.489.0-1.5 1.011-2.5 1.01-1 2.489-1 1.5.0 2.511 1 1.01 1 1.01 2.5.0 1.479-1.01 2.489-1.011 1.011-2.511 1.011zM.688 16.917v-2.563q0-.792.406-1.406.406-.615 1.052-.948 1.312-.625 2.677-.938 1.365-.312 2.76-.312 1.417.0 2.792.323t2.667.927q.646.312 1.041.938.396.624.396 1.416v2.563z"/></svg></span>
</a></span><span class=meta__text>佚名</span></li></ul></div><hr><nav class=page-nav><ul class=page-nav__list><li class=page-nav__li><a href=/p/73c96d8f7/understand-backquote/ class="page-nav__link page-nav__link--prev link link--nav"><span class=page-nav__icon></span><div class=page-nav__title><span class=text>关于 backquote 理解的一个汇总与总结</span></div><span class="page-nav__icon page-nav__icon--arrow"><span class='icon icon--material icon--normal'><svg viewBox="0 0 24 24"><path d="M9.075 18.675 2.4 12l6.675-6.675 1.075 1.05-4.875 4.875h16.15v1.5H5.275l4.85 4.875z"/></svg></span></span></a></li><li class=page-nav__li><a href=/blog/ class="page-nav__link page-nav__link--next link link--nav"><span class=page-nav__itemcol></span><span><span class=page-nav__meta>clsty 的网络空间站
</span><span class=page-nav__title>散文屋
</span></span><span class="page-nav__icon page-nav__icon--arrow"><span class='icon icon--material icon--normal'><svg viewBox="0 0 24 24"><path d="M11.25 21.45V5.3l-4.875 4.875-1.05-1.05L12 2.45l6.675 6.675-1.05 1.075-4.875-4.875V21.45z"/></svg></span></span></a></li></ul></nav><div class="meta meta--foot"><link href=https://art.celestialy.top/dist/Artalk.css rel=stylesheet><script src=https://art.celestialy.top/dist/Artalk.js></script><div id=Comments></div><script>Artalk.init({el:"#Comments",pageKey:"de989ed13",pageTitle:"折腾 Firefox 浏览器（外观篇）",server:"https://art.celestialy.top",site:"clsty-css",darkMode:"auto",gravatar:{mirror:"https://cravatar.cn/avatar/",default:"mp"}})</script></div></footer></div><footer id=l-footer class="l-box margin-full-half"><div class=l-footer__columns><div class="md md--footer md--frame footer__col"><h2>clsty 的网络空间站</h2><figure class="fig fig--w-tiny" id=fig-1><a class="img__frame img__frame--box-shadow" href=/about style="display:flex;justify-content:center;align-items:center;background-image:linear-gradient(to right,#333740,#6690dc)"><span class=img__c style=position:relative;width:100%;height:0;padding-bottom:35.7143%><img class="img--ls img--lqip lazyload" data-optimumx=auto data-sizes=auto data-srcset="/site/footer/about._production/avatar-460x164--Center-128x.webp 128w, /site/footer/about._production/avatar-460x164--Center-143x.webp 143w, /site/footer/about._production/avatar-460x164--Center-159x.webp 159w, /site/footer/about._production/avatar-460x164--Center-165x.webp 165w, /site/footer/about._production/avatar-460x164--Center-178x.webp 178w, /site/footer/about._production/avatar-460x164--Center-199x.webp 199w, /site/footer/about._production/avatar-460x164--Center-222x.webp 222w, /site/footer/about._production/avatar-460x164--Center-248x.webp 248w, /site/footer/about._production/avatar-460x164--Center-276x.webp 276w, /site/footer/about._production/avatar-460x164--Center-308x.webp 308w, /site/footer/about._production/avatar-460x164--Center-344x.webp 344w, /site/footer/about._production/avatar-460x164--Center-384x.webp 384w, /site/footer/about._production/avatar-460x164--Center-429x.webp 429w" height=59 src=data:image/webp;base64,UklGRqAAAABXRUJQVlA4IJQAAAAwBgCdASo3ABQAPyV0qEmnI6Ib/VQAcxJE84BgyA3Sir6Y46YmWooQvniL984np5EkEN8Y8dyI/3WAAP654Yuz59xy24p5KprpRxxhEQmsqQZJ0GjaGejMrtSxYmf/vYJBiSU5YrHPhSLv5Oh4zXstEm9DV97WCpt9tTkSKW8AJIdiluzjfGROvoNMeVegTsDuIwAA width=165></span></a></figure><p>2023-2024 © <a class="link link--text" href=/about>clsty</a> 版权所有</p></div><div class="md md--footer md--frame footer__col"><h2>全站内容共享协议</h2><figure class="fig fig--w-tiny" id=cc><a aria-label="Creative Commons 4.0 logo" class="img__frame img__frame--bg-none img__frame--box-shadow" href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans><span class="img__c img__c--t-symbol"><img alt="Creative Commons 4.0 logo" class=img--svg loading=lazy src=/site/footer/cc/by-nc-sa.svg></span></a></figure><p><a class="link link--text" href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans rel=external>CC BY-NC-SA 4.0</a>，除非另作说明</p></div><div class="md md--footer md--frame footer__col"><h2>相关链接</h2><ul><li><a class="link link--text" href=https://css.celestialy.top rel=external>本站（部署于 Cloudflare）</a></li><li><a class="link link--text" href=https://blog.celestialy.top rel=external>本站（部署于 GitHub）</a></li><li><a class="link link--text" href=https://arcn.celestialy.top/ rel=external>arCNiso 文档</a></li><li><a class="link link--text" href=https://alist.celestialy.top rel=external>存储分享（密码 clsty）</a></li></ul></div><div class="md md--footer md--frame footer__col"><h2>站点框架</h2><figure class="fig fig--w-tiny" id=hugo><a aria-label=Hugo class="img__frame img__frame--bg-none img__frame--box-shadow img__frame--pad-half" href=https://gohugo.io><span class="img__c img__c--t-symbol"><img alt=Hugo class=img--svg loading=lazy src=/site/footer/framework/Hugo.2.svg></span></a></figure><figure class="fig fig--w-text" id=perplex><a aria-label=Perplex class="img__frame img__frame--bg-none img__frame--box-shadow img__frame--pad-half" href=https://github.com/bowman2001/perplex><span class="img__c img__c--t-symbol"><svg viewBox="0 0 717 131"><g transform="translate(-13.3,-77.7)" aria-label="PERPLEX"><path d="m13.3 208V78h53.9q17.2.0 25.9 10.6 8.96 10.6 8.96 29.3t-8.96 29.3q-8.77 10.6-25.9 10.6H36.6v50.4zm23.3-70.7h28.2q5.97.0 9.33-3.17 3.55-3.36 3.55-10.6v-11.6q0-7.28-3.55-10.5-3.36-3.36-9.33-3.36H36.6z" fill="#c9177e"/><path d="m123 208V78h78.2v20.3h-54.9v34h48v19.8h-48v35.8h54.9v20.3z" fill="#8b8b8b"/><path d="m247 208h-23.3V78h53.9q17.2.0 25.9 10.5 8.96 10.5 8.96 29.1.0 14.7-5.6 24.5-5.6 9.52-16.4 13.1l23.7 53.2h-25.2l-21.5-51.3h-20.5zm28.2-70.7q5.97.0 9.33-3.17 3.55-3.17 3.55-10.6v-11.6q0-7.47-3.55-10.6-3.36-3.17-9.33-3.17H247v39.2z" fill="#0083c0"/><path d="m333 208V78h53.9q17.2.0 25.9 10.6 8.96 10.6 8.96 29.3t-8.96 29.3q-8.77 10.6-25.9 10.6h-30.6v50.4zm23.3-70.7h28.2q5.97.0 9.33-3.17 3.55-3.36 3.55-10.6v-11.6q0-7.28-3.55-10.5-3.36-3.36-9.33-3.36h-28.2z" fill="#8d8d8d"/><path d="m443 208V78h23.3v110H512v20.3z" fill="#00a88a"/><path d="m533 208V78h78.2v20.3h-54.9v34h48v19.8h-48v35.8h54.9v20.3z" fill="#8b8b8b"/><path d="m730 208h-26.9l-25.4-48.7h-2.43l-25 48.7h-25l37.1-66.6-35.3-63.7h26.7l23.1 45.2h2.61l23.5-45.2h25l-35.8 63.5z" fill="#ebb923"/></g></svg></span></a></figure><p><a class="link link--text" href=https://gohugo.io rel=external>Hugo</a> × <a class="link link--text" href=https://github.com/bowman2001/perplex rel=external>Perplex</a> [Apache 2.0]</p></div></div></footer></main><div id=l-overlay></div></div><script defer src=/js/foot.min.e64a7ab658572cb6d73b058cfbcca1e125e8928a3b71c7b63b88a377133bddbd.js integrity="sha256-5kp6tlhXLLbXOwWM+8yh4SXokoo7cce2O4ijdxM73b0="></script></body></html>